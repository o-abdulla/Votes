{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet VotesComponent = class VotesComponent {\n  constructor(_voteService) {\n    this._voteService = _voteService;\n    this.votes = [];\n    this.newRecipe = {};\n    this.recipe = {};\n  }\n  ngOnInit() {\n    this._voteService.getVotes().subscribe(response => {\n      console.log(response);\n      this.votes = response;\n    });\n    return this.votes;\n  }\n  vote(id) {\n    this._voteService.castVote(id).subscribe(response => {\n      console.log(response);\n      // updates votes without refreshing page\n      let updateVote = this.votes.find(vote => vote.id === id);\n      if (updateVote) {\n        updateVote.votes++;\n      }\n    });\n  }\n  addRecipe(recipe) {\n    this._voteService.addRecipe(recipe).subscribe(response => {\n      console.log(response);\n      this.votes.push(response);\n      this.newRecipe = \"\";\n    });\n  }\n};\nVotesComponent = __decorate([Component({\n  selector: 'app-votes',\n  templateUrl: './votes.component.html',\n  styleUrls: ['./votes.component.css']\n})], VotesComponent);\nexport { VotesComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AASlC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAMzBC,YAAoBC,YAAyB;IAAzB,iBAAY,GAAZA,YAAY;IAJhC,UAAK,GAAU,EAAE;IACjB,cAAS,GAAQ,EAAU;IAC3B,WAAM,GAAQ,EAAU;EAEwB;EAEhDC,QAAQ;IACN,IAAI,CAACD,YAAY,CAACE,QAAQ,EAAE,CAACC,SAAS,CAAEC,QAAe,IAAI;MACzDC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAI,CAACG,KAAK,GAAGH,QAAQ;IACvB,CAAC,CAAC;IACF,OAAO,IAAI,CAACG,KAAK;EACnB;EAEAC,IAAI,CAACC,EAAS;IACZ,IAAI,CAACT,YAAY,CAACU,QAAQ,CAACD,EAAE,CAAC,CAACN,SAAS,CAAEC,QAAa,IAAI;MACzDC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MAErB;MACA,IAAIO,UAAU,GAAG,IAAI,CAACJ,KAAK,CAACK,IAAI,CAACJ,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKA,EAAE,CAAC;MACxD,IAAIE,UAAU,EAAE;QACdA,UAAU,CAACJ,KAAK,EAAE;;IAEtB,CAAC,CAAC;EAEJ;EAEAM,SAAS,CAACC,MAAY;IAGpB,IAAI,CAACd,YAAY,CAACa,SAAS,CAACC,MAAM,CAAC,CAACX,SAAS,CAAEC,QAAa,IAAI;MAC9DC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAI,CAACG,KAAK,CAACQ,IAAI,CAACX,QAAQ,CAAC;MACzB,IAAI,CAACY,SAAS,GAAG,EAAE;IACrB,CAAC,CAAC;EACJ;CAED;AAvCYlB,cAAc,eAL1BD,SAAS,CAAC;EACToB,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWrB,cAAc,CAuC1B;SAvCYA,cAAc","names":["Component","VotesComponent","constructor","_voteService","ngOnInit","getVotes","subscribe","response","console","log","votes","vote","id","castVote","updateVote","find","addRecipe","recipe","push","newRecipe","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\osabd\\source\\repos\\Votes\\Votes\\ClientApp\\src\\app\\components\\votes\\votes.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Vote } from 'src/app/models/vote';\nimport { VoteService } from 'src/app/services/vote.service';\n\n@Component({\n  selector: 'app-votes',\n  templateUrl: './votes.component.html',\n  styleUrls: ['./votes.component.css']\n})\nexport class VotesComponent {\n\n  votes:Vote[] = [];\n  newRecipe:Vote = {} as Vote;\n  recipe:Vote = {} as Vote;\n\n  constructor(private _voteService: VoteService) {}\n\n  ngOnInit(){\n    this._voteService.getVotes().subscribe((response:Vote[]) => {\n      console.log(response);\n      this.votes = response;\n    });\n    return this.votes;\n  }\n\n  vote(id:number):void{\n    this._voteService.castVote(id).subscribe((response:Vote) =>{\n      console.log(response);\n\n      // updates votes without refreshing page\n      let updateVote = this.votes.find(vote => vote.id === id);\n      if (updateVote) {\n        updateVote.votes++;\n      }\n    })\n    \n  }\n\n  addRecipe(recipe: Vote):void{\n    \n\n    this._voteService.addRecipe(recipe).subscribe((response:Vote) => {\n      console.log(response);\n      this.votes.push(response);\n      this.newRecipe = \"\";\n    });\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}